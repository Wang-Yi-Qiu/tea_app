<!--pages/user/profile.wxml - ç®€åŒ–ç‰ˆä¸ªäººä¸­å¿ƒ-->
<view class="profile-container">
  <!-- é¡¶éƒ¨è£…é¥°åŒºåŸŸ -->
  <view class="header-decoration">
    <view class="decoration-pattern"></view>
  </view>

  <!-- ç”¨æˆ·ä¿¡æ¯å¡ç‰‡ -->
  <view class="profile-card">
    <view class="card-background">
      <view class="ink-splash"></view>
    </view>

    <view class="profile-content">
      <!-- ç”¨æˆ·å¤´åƒ -->
      <view class="avatar-container">
        <image src="{{userInfo.avatarUrl}}" mode="aspectFill" class="user-avatar" />
        <view class="avatar-glow"></view>
      </view>

      <!-- ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ -->
      <view class="user-main-info">
        <view class="user-name">{{userInfo.nickname}}</view>
        <view class="user-title">å“èŒ¶è®ºé“ â€¢ é›…è‡´ç”Ÿæ´»</view>

        <!-- ä¼šå‘˜ç­‰çº§ -->
        <view class="member-badge">
          <text class="member-level">{{memberLevel.name}}</text>
          <text class="member-benefit">{{memberLevel.discount}}æŠ˜ä¼˜æƒ </text>
        </view>
      </view>

      <!-- ç”¨æˆ·ç»Ÿè®¡ -->
      <view class="user-stats">
        <view class="stat-item">
          <text class="stat-number">Â¥{{statistics.totalAmount}}</text>
          <text class="stat-label">ç´¯è®¡æ¶ˆè´¹</text>
        </view>
        <view class="stat-divider"></view>
        <view class="stat-item">
          <text class="stat-number">{{statistics.orderCount}}</text>
          <text class="stat-label">è®¢å•æ•°</text>
        </view>
        <view class="stat-divider"></view>
        <view class="stat-item">
          <text class="stat-number">Â¥{{statistics.avgOrderAmount}}</text>
          <text class="stat-label">å®¢å•ä»·</text>
        </view>
      </view>
    </view>

    <!-- ä¼šå‘˜æƒç›Šå±•ç¤º -->
    <view class="benefits-section">
      <view class="section-header">
        <text class="section-title">ä¼šå‘˜ä¸“äº«</text>
      </view>
      <view class="benefits-grid">
        <view wx:for="{{memberLevel.benefits}}" wx:key="*this" class="benefit-card">
          <view class="benefit-icon"></view>
          <text class="benefit-name">{{item}}</text>
        </view>
      </view>
    </view>

    <!-- æ ¸å¿ƒåŠŸèƒ½å…¥å£ - ç®€åŒ–ç‰ˆ -->
    <view class="functions-section">
      <view class="section-header">
        <text class="section-title">æˆ‘çš„æœåŠ¡</text>
      </view>
      <view class="function-grid-simple">
        <!-- æˆ‘çš„è®¢å• -->
        <view class="function-item-simple" bindtap="onOrdersTap">
          <view class="function-icon-simple order-icon-simple">
            <text class="iconfont">ğŸ“‹</text>
            <view class="icon-badge-simple" wx:if="{{pendingOrders > 0}}">{{pendingOrders}}</view>
          </view>
          <text class="function-name-simple">æˆ‘çš„è®¢å•</text>
          <view class="function-arrow-simple"></view>
        </view>

        <!-- æˆ‘çš„æ”¶è— -->
        <view class="function-item-simple" bindtap="onFavoriteTap">
          <view class="function-icon-simple favorite-icon-simple">
            <text class="iconfont">â¤ï¸</text>
          </view>
          <text class="function-name-simple">æˆ‘çš„æ”¶è—</text>
          <view class="function-arrow-simple"></view>
        </view>

        <!-- åœ°å€ç®¡ç† -->
        <view class="function-item-simple" bindtap="onAddressTap">
          <view class="function-icon-simple address-icon-simple">
            <text class="iconfont">ğŸ“</text>
          </view>
          <text class="function-name-simple">åœ°å€ç®¡ç†</text>
          <view class="function-arrow-simple"></view>
        </view>

        <!-- å®¢æœä¸­å¿ƒ -->
        <view class="function-item-simple" bindtap="onServiceTap">
          <view class="function-icon-simple service-icon-simple">
            <text class="iconfont">ğŸ’¬</text>
            <view class="service-status-simple online"></view>
          </view>
          <text class="function-name-simple">è”ç³»å®¢æœ</text>
          <view class="function-arrow-simple"></view>
        </view>
      </view>
    </view>

    <!-- åº•éƒ¨è£…é¥° -->
    <view class="footer-decoration">
      <view class="tea-leaf-decoration">èŒ¶éŸµ</view>
    </view>
  </view>
</view>